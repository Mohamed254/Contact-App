{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, CLEAR_ERRORS } from '../types';\n\nconst authReducer = (state = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n  error: null\n}, action) => {\n  switch (action.type) {\n    case \"REGISTER_SUCCESS\":\n      console.log(\"register success\");\n      localStorage.setItem(\"token\", action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n\n    case \"REGISTER_FAIL\":\n      console.log(\"register failed\");\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default aut; // export default (state, action) => {\n//     switch(action.type) {\n//         case REGISTER_SUCCESS:\n//             localStorage.setItem('token', action.payload.token);\n//             return{\n//                 ...state,\n//                 ...action.payload,\n//                 isAuthenticated: true,\n//                 loading: false\n//             };\n//         case REGISTER_FAIL:\n//             localStorage.removeItem('token');\n//             return{\n//                 ...state,\n//                 token: null,\n//                 isAuthenticated: false,\n//                 loading: false,\n//                 user: null,\n//                 error: action.payload\n//             }\n//         default:\n//             return state;\n//     }\n// }","map":{"version":3,"sources":["C:/Users/Khadarow/Desktop/contact-keeper/client/src/context/auth/authReducer.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","CLEAR_ERRORS","authReducer","state","token","localStorage","getItem","isAuthenticated","loading","user","error","action","type","console","log","setItem","payload","removeItem","aut"],"mappings":"AAAA,SACIA,gBADJ,EAEIC,aAFJ,EAGIC,WAHJ,EAIIC,UAJJ,EAKIC,aALJ,EAMIC,UANJ,EAOIC,MAPJ,EAQIC,YARJ,QASO,UATP;;AAYA,MAAMC,WAAW,GAAG,CAChBC,KAAK,GAAG;AACRC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADC;AAERC,EAAAA,eAAe,EAAE,IAFT;AAGRC,EAAAA,OAAO,EAAE,IAHD;AAIRC,EAAAA,IAAI,EAAE,IAJE;AAKRC,EAAAA,KAAK,EAAE;AALC,CADQ,EAQjBC,MARiB,KASZ;AACJ,UAAQA,MAAM,CAACC,IAAf;AACC,SAAK,kBAAL;AACCC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAT,MAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BJ,MAAM,CAACK,OAAP,CAAeZ,KAA7C;AACA,aAAO,EACN,GAAGD,KADG;AAEN,WAAGQ,MAAM,CAACK,OAFJ;AAGNT,QAAAA,eAAe,EAAE,IAHX;AAINC,QAAAA,OAAO,EAAE;AAJH,OAAP;;AAOF,SAAK,eAAL;AACEK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAT,MAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACA,aAAO,EACN,GAAGd,KADG;AAENC,QAAAA,KAAK,EAAE,IAFD;AAGNG,QAAAA,eAAe,EAAE,KAHX;AAINC,QAAAA,OAAO,EAAE,KAJH;AAKNC,QAAAA,IAAI,EAAE,IALA;AAMNC,QAAAA,KAAK,EAAEC,MAAM,CAACK;AANR,OAAP;;AASF;AACE,aAAOb,KAAP;AAxBF;AA0BA,CApCJ;;AAsCG,eAAee,GAAf,C,CAMH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA","sourcesContent":["import {\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n    USER_LOADED,\r\n    AUTH_ERROR,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOGOUT,\r\n    CLEAR_ERRORS\r\n} from '../types';\r\n\r\n\r\nconst authReducer = (\r\n    state = {\r\n    token: localStorage.getItem(\"token\"),\r\n    isAuthenticated: null,\r\n    loading: true,\r\n    user: null,\r\n    error: null\r\n   },\r\n   action\r\n   ) => {\r\n    switch (action.type) {\r\n     case \"REGISTER_SUCCESS\":\r\n      console.log(\"register success\");\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      return {\r\n       ...state,\r\n       ...action.payload,\r\n       isAuthenticated: true,\r\n       loading: false\r\n      };\r\n   \r\n    case \"REGISTER_FAIL\":\r\n      console.log(\"register failed\");\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n       ...state,\r\n       token: null,\r\n       isAuthenticated: false,\r\n       loading: false,\r\n       user: null,\r\n       error: action.payload\r\n      };\r\n   \r\n    default:\r\n      return state;\r\n    }\r\n   };\r\n\r\n   export default aut\r\n\r\n\r\n\r\n\r\n\r\n// export default (state, action) => {\r\n//     switch(action.type) {\r\n//         case REGISTER_SUCCESS:\r\n//             localStorage.setItem('token', action.payload.token);\r\n//             return{\r\n//                 ...state,\r\n//                 ...action.payload,\r\n//                 isAuthenticated: true,\r\n//                 loading: false\r\n//             };\r\n//         case REGISTER_FAIL:\r\n//             localStorage.removeItem('token');\r\n//             return{\r\n//                 ...state,\r\n//                 token: null,\r\n//                 isAuthenticated: false,\r\n//                 loading: false,\r\n//                 user: null,\r\n//                 error: action.payload\r\n//             }\r\n\r\n//         default:\r\n//             return state;\r\n\r\n//     }\r\n// }"]},"metadata":{},"sourceType":"module"}